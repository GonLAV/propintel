@import 'tailwindcss';

@import './styles/theme.css';
@import './index.css';
@import "tw-animate-css";
/*
  ---break---
*/
@custom-variant dark (&:is(.dark *));

@config '../tailwind.config.js';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-border, var(--color-gray-200, currentColor));
  }
}

/*
  ---break---
*/
:root {
  /* ── Apple.com design tokens ─────────────────────────────── */
  --radius: 0.75rem;
  --background: oklch(0.985 0.002 247);      /* #fbfbfd — Apple off-white */
  --foreground: oklch(0.13 0.005 285);       /* #1d1d1f — Apple text      */
  --card: oklch(1 0 0);                      /* #ffffff pure white       */
  --card-foreground: oklch(0.13 0.005 285);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.13 0.005 285);
  --primary: oklch(0.52 0.21 258);           /* #0071e3 — Apple Blue     */
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.968 0.003 247);       /* #f5f5f7 — Apple gray bg  */
  --secondary-foreground: oklch(0.13 0.005 285);
  --muted: oklch(0.968 0.003 247);           /* #f5f5f7                  */
  --muted-foreground: oklch(0.44 0.02 265);  /* #6e6e73 — Apple gray txt */
  --accent: oklch(0.968 0.003 247);
  --accent-foreground: oklch(0.13 0.005 285);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0 0 0 / 8%);               /* Nearly invisible border  */
  --input: oklch(0 0 0 / 8%);
  --ring: oklch(0.52 0.21 258);
  --chart-1: oklch(0.52 0.21 258);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.55 0.18 330);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  /* ── Light sidebar (Apple-clean) ──────────────────────────── */
  --sidebar: oklch(1 0 0);                   /* White sidebar            */
  --sidebar-foreground: oklch(0.44 0.02 265);
  --sidebar-primary: oklch(0.52 0.21 258);   /* Apple Blue               */
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.968 0.003 247);  /* #f5f5f7                  */
  --sidebar-accent-foreground: oklch(0.13 0.005 285);
  --sidebar-border: oklch(0 0 0 / 8%);
  --sidebar-ring: oklch(0.52 0.21 258);
}

/*
  ---break---
*/
.dark {
  /* ── Dark mode tokens (Apple-aligned) ─────────────────────── */
  --background: oklch(0.10 0.005 285);       /* Near black              */
  --foreground: oklch(0.93 0.005 247);       /* Near white              */
  --card: oklch(0.15 0.005 285);
  --card-foreground: oklch(0.93 0.005 247);
  --popover: oklch(0.15 0.005 285);
  --popover-foreground: oklch(0.93 0.005 247);
  --primary: oklch(0.62 0.21 258);           /* Brighter blue for dark  */
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.20 0.005 285);
  --secondary-foreground: oklch(0.93 0.005 247);
  --muted: oklch(0.20 0.005 285);
  --muted-foreground: oklch(0.60 0.01 265);
  --accent: oklch(0.22 0.005 285);
  --accent-foreground: oklch(0.93 0.005 247);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.62 0.21 258);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.10 0.005 285);
  --sidebar-foreground: oklch(0.85 0.005 247);
  --sidebar-primary: oklch(0.62 0.21 258);
  --sidebar-primary-foreground: oklch(0 0 0);
  --sidebar-accent: oklch(0.2 0.004 260);
  --sidebar-accent-foreground: oklch(0.968 0.003 247);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.62 0.21 258);
}

/*
  ---break---
*/
@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  /*
  ---break---
*/
  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  /*
  ---break---
*/
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }
}

/*
  ---break---
*/
@layer base {
  * {
    @apply border-border outline-ring/50;
    scrollbar-width: thin;
    scrollbar-color: oklch(0 0 0 / 0.10) transparent;
  }

  .dark * {
    scrollbar-color: oklch(1 0 0 / 0.12) transparent;
  }

  ::selection {
    background-color: color-mix(in oklab, var(--color-primary) 22%, transparent);
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text',
      'Helvetica Neue', Arial, sans-serif;
    font-size: 17px;
    line-height: 1.47059;
    letter-spacing: -0.022em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
  }
}

/* ── Animation keyframes ──────────────────────────────────────── */
@keyframes fade-in {
  from { opacity: 0 }
  to { opacity: 1 }
}

@keyframes slide-up-fade {
  from { opacity: 0; transform: translateY(6px) }
  to { opacity: 1; transform: translateY(0) }
}

@keyframes scale-fade {
  from { opacity: 0; transform: scale(0.97) }
  to { opacity: 1; transform: scale(1) }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1 }
  50% { opacity: 0.5 }
}

@keyframes shimmer-sweep {
  0% { background-position: -200% 0 }
  100% { background-position: 200% 0 }
}

@layer utilities {
  .animate-fade-in { animation: fade-in 0.2s ease-out both }
  .animate-slide-up { animation: slide-up-fade 0.3s ease-out both }
  .animate-scale-in { animation: scale-fade 0.2s ease-out both }
  .animate-pulse-soft { animation: pulse-soft 2.5s ease-in-out infinite }
  .stagger-1 { animation-delay: 50ms }
  .stagger-2 { animation-delay: 100ms }
  .stagger-3 { animation-delay: 150ms }
  .stagger-4 { animation-delay: 200ms }
  .stagger-5 { animation-delay: 250ms }
  .tabular-nums { font-variant-numeric: tabular-nums }
  .text-balance { text-wrap: balance }
}

/* ── Global form styles ───────────────────────────────────────── */
@layer base {
  html { background: oklch(0.985 0.002 247); }

  .form-section {
    @apply space-y-5;
  }

  .form-row {
    @apply grid gap-4;
  }

  table th {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: oklch(0.44 0.02 265);
  }
}

/* ── Component surfaces ───────────────────────────────────────── */
@layer components {
  .glass-effect {
    background-color: oklch(1 0 0 / 0.88);
    backdrop-filter: saturate(180%) blur(20px);
    -webkit-backdrop-filter: saturate(180%) blur(20px);
    border-bottom: 1px solid oklch(0 0 0 / 0.08);
  }

  .surface-interactive {
    @apply transition-all duration-200 ease-out;
  }

  .surface-interactive:hover {
    box-shadow: 0 2px 12px oklch(0 0 0 / 0.06);
  }

  .surface-elevated {
    background: oklch(1 0 0);
    box-shadow: 0 2px 12px oklch(0 0 0 / 0.06), 0 0 0 0.5px oklch(0 0 0 / 0.03);
  }
}